<ng-template #surveys>
    <mat-card *ngFor="let survey of surveys$ | async" (click)="viewDetail(survey)">
        <mat-card-header>
            <mat-card-title>{{survey?.title}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div class="survey-content" [innerHTML]="survey?.description"></div>
        </mat-card-content>
        <mat-card-actions>
            <button mat-icon-button (click)="reportSurvey(survey, $event)">
                <mat-icon color="warn">report</mat-icon>
            </button>
            <button mat-icon-button (click)="likeSurvey(survey, $event)" aria-label="Umfrage liken">
                <mat-icon color="primary">thumb_up</mat-icon>
            </button>
            <button mat-icon-button class="edit" (click)="editSurvey(survey, $event)" aria-label="Bearbeiten"
                *ngIf="survey?.uid === (uid$ | async) ">
                <mat-icon>edit</mat-icon>
            </button>
        </mat-card-actions>
    </mat-card>
</ng-template>

<mat-spinner *ngIf="isLoadingSurveys$ | async; else surveys" [diameter]="10"></mat-spinner>

<button mat-fab class="create-btn" color="primary" (click)="createSurvey()" aria-label="Umfrage erstellen">
    <mat-icon>add</mat-icon>
</button>